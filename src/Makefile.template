FC = mpif90

FFLAGS = <FFLAGS> -I<HDF5_INCLUDE_DIR>

OBJS = zm_parse.o hipft.o

LDFLAGS = -L<HDF5_LIB_DIR> <HDF5_LIB_FLAGS>

all:	$(OBJS)
	$(FC) $(FFLAGS) $(OBJS) $(LDFLAGS) -o hipft
	rm *.mod *.o 2>/dev/null

clean:
	rm hipft 2>/dev/null
	rm -f *.mod *.o 2>/dev/null

zm_parse.o: zm_parse.f
	$(FC) -c $(FFLAGS) $<

hipft.o: hipft.f90
	$(FC) -c $(FFLAGS) $<

